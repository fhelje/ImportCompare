(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,a){e.exports=a(415)},276:function(e,t,a){},410:function(e,t,a){},412:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);a(238),a(270);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),o=(a(276),a(141)),i=a(142),m=a(149),u=a(143),s=a(150),f=a(6),d=a(55),E=a.n(d),p=a(146),b=a.n(p),v=a(145),O=a.n(v),h=Object(f.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:O.a,secondary:{main:b.a[700]}}});var g=function(e){return function(t){return r.a.createElement(f.MuiThemeProvider,{theme:h},r.a.createElement(E.a,null),r.a.createElement(e,t))}},w=a(33),j=a.n(w),D=a(56),y=a(21),S=a(147),T=a(3),k=a(24),R=a.n(k),I=a(59),N=a(57),x=a.n(N),C=Object(f.withStyles)(function(e){return{head:{backgroundColor:x.a[500],color:e.palette.common.white},body:{fontSize:14}}})(T.j),P=function(e){var t=e.value1,a=e.value2,n=(e.showDiff||!1)&&t!==a?"error":"default";return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.n,{variant:"caption",color:n},t),r.a.createElement(T.n,{variant:"caption",color:n},a))},F=function(e){var t=e.value1,a=e.value2,n=(e.showDiff,t>a?"error":"secondary"),l=(a.milliseconds-t.milliseconds)/a.milliseconds;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.n,{variant:"caption",color:n},t.toFormat("hh:mm:ss.SSS")," (",(100*l).toFixed(0),"%)"),r.a.createElement(T.n,{variant:"caption",color:"default"},a.toFormat("hh:mm:ss.SSS")))},V=function(e){var t=e.value;return r.a.createElement(T.n,{variant:"caption"},t)},L=function(e){return I.DateTime.fromISO(e).toFormat("HH:mm:ss")},B=function(e){return I.DateTime.fromISO(e).toFormat("yyyy-MM-dd")},M=function(e){return I.Duration.fromMillis(e)},W=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.rows;return r.a.createElement(T.g,{className:t.root},r.a.createElement(T.h,{className:t.table},r.a.createElement(T.k,null,r.a.createElement(T.l,null,r.a.createElement(C,null,"Env"),r.a.createElement(C,null,"Date"),r.a.createElement(C,null,"Start/End"),r.a.createElement(C,null,"Duration"),r.a.createElement(C,null,"Partner"),r.a.createElement(C,null,"TodoID"),r.a.createElement(C,null,"File Name"),r.a.createElement(C,null,"Rows"),r.a.createElement(C,null,"Commands"),r.a.createElement(C,null,"Errors"),r.a.createElement(C,null,"Duplicates"),r.a.createElement(C,null,"Events"),r.a.createElement(C,null,"Details"))),r.a.createElement(T.i,null,a.map(function(e){var t=e.VSPerfTest,a=e.VSPerfTest2;return t&&a?r.a.createElement(T.l,{key:t.id},r.a.createElement(C,null,r.a.createElement(P,{value1:"New",value2:"Old"})),r.a.createElement(C,null,r.a.createElement(P,{value1:B(t.startDate),value2:B(a.startDate)})),r.a.createElement(C,null,r.a.createElement(P,{value1:"".concat(L(t.startDate)," - ").concat(L(t.endDate)),value2:"".concat(L(a.startDate)," - ").concat(L(a.endDate))})),r.a.createElement(C,null,r.a.createElement(F,{value1:M(t.duration),value2:M(a.duration)})),r.a.createElement(C,null,r.a.createElement(V,{value:t.partnerName})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.todoID,value2:a.todoID})),r.a.createElement(C,null,r.a.createElement(V,{value:t.fileName})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.numberOfRows,value2:a.numberOfRows,showDiff:!0})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.numberOfCommands,value2:a.numberOfCommands,showDiff:!0})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.numberOfErrors,value2:a.numberOfErrors,showDiff:!0})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.numberOfDuplicates,value2:a.numberOfDuplicates,showDiff:!0})),r.a.createElement(C,null,r.a.createElement(P,{value1:t.totalNumberOfEvents,value2:a.totalNumberOfEvents,showDiff:!0})),r.a.createElement(C,null,r.a.createElement(T.b,{href:"/log-detail/".concat(t.todoID,"/").concat(a.todoID)},"Show"))):function(e,t){return console.log(e),console.log(t),null}(t,a)}))))}),A=a(28),H=(a(410),Object(f.withStyles)(function(e){return{loading:{marginLeft:2*e.spacing.unit,marginTop:2*e.spacing.unit-4}}})(function(e){var t=e.classes,a=Object(n.useState)(!0),l=Object(y.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)({items:[]}),m=Object(y.a)(i,2),u=m[0],s=m[1],f=Object(n.useState)(!1),d=Object(y.a)(f,2),E=d[0],p=d[1],b=Object(S.a)({duration:1e4,startImmediate:c,callback:function(){console.log("Refresh"),h()}}),v=b.start,O=b.stop,h=function(){var e=Object(D.a)(j.a.mark(function e(){var t,a,n,r,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Promise.all([R()("/api/importlog/VSPerfTest"),R()("/api/importlog/VSPerfTest2")]);case 3:t=e.sent,a=Object(y.a)(t,2),n=a[0],r=a[1],l=n.data.items.map(function(e){var t=Object(A.find)(r.data.items,function(t){return t.id===e.id});return{VSPerfTest:e,VSPerfTest2:t}}),s({items:l}),p(!1);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){h()},[]);return r.a.createElement(T.f,null,r.a.createElement(T.n,{variant:"h2"},"Import logs"),r.a.createElement("div",{className:"toolbar"},r.a.createElement(T.e,{row:!0},r.a.createElement(T.d,{control:r.a.createElement(T.c,{checked:c,onChange:function(){var e=!c;o(e),e?(h(),v()):O()},value:"checkedA"}),label:"Autorefresh"}),r.a.createElement(T.b,{variant:"contained",color:"primary",onClick:function(){return h()}},"Refresh"),E&&r.a.createElement(T.n,{className:t.loading,variant:"subtitle1"},"Loading ..."))),r.a.createElement(W,{rows:u.items}))})),z=(a(412),a(417)),J=a(418),X=a(419),$=a(87),q=a(34),G=Object(f.withStyles)(function(e){return{root:Object(q.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.environment,a=e.classes,n=e.items||[];return r.a.createElement(T.f,{item:!0,xs:6},r.a.createElement(T.g,{className:a.root},r.a.createElement(T.n,{variant:"h5"},t),n.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(T.n,{variant:"h6"},e.fileName),r.a.createElement("div",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"Number Of Rows"),r.a.createElement("dd",null,e.numberOfRows),r.a.createElement("dt",null,"Number Of Commands"),r.a.createElement("dd",null,e.numberOfCommands),r.a.createElement("dt",null,"Number Of Errors"),r.a.createElement("dd",null,e.numberOfErrors),r.a.createElement("dt",null,"Number Of Duplicates"),r.a.createElement("dd",null,e.numberOfDuplicates))))})))}),K=Object(f.withStyles)(function(e){return{head:{backgroundColor:x.a[500],color:e.palette.common.white},body:{fontSize:14}}})(T.j),Q=function(e){var t=e.value,a=0!==t?"error":"secondary";return r.a.createElement(T.n,{variant:"caption",color:a},t)},U=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.detail;return r.a.createElement(T.g,{className:t.root},r.a.createElement(T.h,{className:t.table},r.a.createElement(T.k,null,r.a.createElement(T.l,null,r.a.createElement(K,null,"Description"),r.a.createElement(K,null,"EventTypeID"),r.a.createElement(K,null,"NumberOfRows1"),r.a.createElement(K,null,"NumberOfRows2"),r.a.createElement(K,null,"Diff"),r.a.createElement(K,null,"TodoLogDetailID"),r.a.createElement(K,null,"TodoLogID"))),r.a.createElement(T.i,null,a.map(function(e){return r.a.createElement(T.l,{key:e.eventTypeID},r.a.createElement(K,null,e.description),r.a.createElement(K,null,e.eventTypeID),r.a.createElement(K,null,e.numberOfRows1),r.a.createElement(K,null,e.numberOfRows2),r.a.createElement(K,null,r.a.createElement(Q,{value:e.numberOfRows1-e.numberOfRows2})),r.a.createElement(K,null,e.todoLogDetailID),r.a.createElement(K,null,e.todoLogID))}))))}),Y=Object(f.withStyles)(function(e){return{root:Object(q.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.match,a=Object(n.useState)(t.params.id1?parseInt(t.params.id1):0),l=Object(y.a)(a,1)[0],c=Object(n.useState)(t.params.id2?parseInt(t.params.id2):0),o=Object(y.a)(c,1)[0],i=Object(n.useState)({items:{item1:[],item2:[],detail:[]}}),m=Object(y.a)(i,2),u=m[0],s=m[1],f=["VSPerfTest","VSPerfTest2"],d=function(){var e=Object(D.a)(j.a.mark(function e(){var t,a,n,r,c,i,m,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([R()("/api/importlog/".concat(f[0],"/").concat(l)),R()("/api/importlog/".concat(f[1],"/").concat(o)),R()("/api/importlog/detail/".concat(f[0],"/").concat(l)),R()("/api/importlog/detail/".concat(f[1],"/").concat(o))]);case 2:t=e.sent,a=Object(y.a)(t,4),n=a[0],r=a[1],c=a[2],i=a[3],m=c.data.items.map(function(e){var t=Object(A.find)(i.data.items,function(t){return t.eventTypeID===e.eventTypeID}),a=(e.numberOfRows,Object($.a)(e,["numberOfRows"]));return Object(q.a)({},a,{numberOfRows1:e.numberOfRows,numberOfRows2:t&&t.numberOfRows||0})}),u=Object(A.differenceBy)(c.data.items,i.data.items,"eventTypeID"),Object(A.each)(u,function(e){var t=e.numberOfRows,a=Object($.a)(e,["numberOfRows"]);m.push(Object(q.a)({numberOfRows1:t,numberOfRows2:0},a))}),s({items:{item1:n.data.items,item2:r.data.items,detail:Object(A.sortBy)(m,"eventTypeID")}});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){d()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.n,{variant:"h2"},l," - ",o),r.a.createElement(T.f,{container:!0,spacing:24},r.a.createElement(U,{detail:u.items.detail}),r.a.createElement(T.f,{item:!0,xs:12},r.a.createElement(T.n,{variant:"h4"},"Files overview")),r.a.createElement(G,{key:f[0],environment:f[0],items:u.items.item1||[]}),r.a.createElement(G,{key:f[1],environment:f[1],items:u.items.item2||[]})))}),Z=function(e){return r.a.createElement(z.a,Object.assign({to:"/"},e))},_=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(J.a,null,r.a.createElement(T.f,{container:!0,spacing:24},r.a.createElement(T.f,{item:!0,xs:12},r.a.createElement(T.a,null,r.a.createElement(T.m,null,r.a.createElement(T.b,{color:"inherit",component:Z},"Home")))),r.a.createElement(T.f,{item:!0,xs:12},r.a.createElement("div",{className:"main-page"},r.a.createElement(X.a,{exact:!0,path:"/",component:H}),r.a.createElement(X.a,{exact:!0,path:"/log-detail/:id1/:id2",component:Y})))))}}]),t}(n.Component),ee=g(Object(f.withStyles)(function(e){return{root:{textAlign:"center",paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit}}})(_));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[237,2,1]]]);
//# sourceMappingURL=main.a091b1f2.chunk.js.map